<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.vanrui.app.user.dao.RoleAppmenuDao">
   
  
  <insert id="insertAuth"  parameterType="java.util.List"  >
	    insert   into T_REF_APPSOURCE_ROLE(R_ID,S_ID)
	    values
	    <foreach collection="authList" item="item" index="index" separator=",">
	    (
	        #{item.rId},
	        #{item.sId}
	    ) 
	    </foreach>
	    
  </insert>
  
  <delete id="deleteAuth"  parameterType="java.lang.Long" >
  		delete  from  T_REF_APPSOURCE_ROLE  where  R_ID = #{roleId}
  </delete>
  
   <select id="selectRolesByOneRight" parameterType="java.lang.Long" resultType="java.lang.Long">
        select DISTINCT(t1.R_ID) from T_REF_APPSOURCE_ROLE as t1, t_app_source as t2 
        where t1.S_ID = t2.S_ID and t2.S_STATUS = 1 and t2.S_ID = #{sId}
   </select>
  
</mapper>