<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.vanrui.app.user.dao.SkillDao">
 
	 <resultMap id="BaseResultMap"  type="com.vanrui.app.user.model.SkillDictionaryEntity" >
	 	<id column="SKILL_ID" jdbcType="BIGINT" property="skillId" />
	    <result column="P_SKILL_ID" jdbcType="VARCHAR" property="pSkillId" /> 
	    <result column="SKILL_NAME" jdbcType="VARCHAR" property="skillName" /> 
	    <result column="SKILL_CODE" jdbcType="VARCHAR" property="skillCode" />  
	 </resultMap>
      
   <select id="selectAllSkills" resultMap="BaseResultMap" >
   		SELECT   
   			SKILL_ID,P_SKILL_ID,SKILL_NAME,SKILL_CODE
   		FROM   t_skill_dictionary
        WHERE  STATUS = 1
   </select>
   
   <select id="selectById" resultMap="BaseResultMap"  parameterType="java.lang.Long" >
   		SELECT   
   			SKILL_ID,P_SKILL_ID,SKILL_NAME,SKILL_CODE
   		FROM   t_skill_dictionary
        WHERE  SKILL_ID = #{skillId}
   </select>
   
   <select id="selectSkillsBySkillIds" resultMap="BaseResultMap"  parameterType="java.lang.Long" >
   		SELECT   
   			SKILL_ID,P_SKILL_ID,SKILL_NAME,SKILL_CODE
   		FROM   t_skill_dictionary
        WHERE  STATUS = 1  
          AND  SKILL_ID   in (
          <foreach collection="idSet" index="index" item="item" separator="," >
          	#{item}
          </foreach>
          )
   </select>
 
   <insert id="insert" parameterType="com.vanrui.app.user.model.SkillDictionaryEntity" >
   		insert into t_skill_dictionary (SKILL_ID,P_SKILL_ID,SKILL_NAME,SKILL_CODE,STATUS)
   		values(
   			#{entity.skillId},
   			#{entity.pSkillId},
   			#{entity.skillName},
   			#{entity.skillCode},
   			#{entity.status},
   		)
   </insert>
   
   <update id="updateSkillName" >
   		update t_skill_dictionary SET SKILL_NAME={skillName} where SKILL_ID=#{id}
   </update>
   
   <delete id="delete">
   		delete from t_skill_dictionary where SKILL_ID=#{id}
   </delete>
   
</mapper>